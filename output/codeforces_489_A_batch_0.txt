  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put((x, counter.get(x)), i);
    }
    a = b.clone();
    Arrays.sort(a);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add((i, positions.get(x)));
        positions.put(x, positions.get(tmp));
        positions.put(tmp, positions.get(x));
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.HashMap;
import java.util.ArrayList;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int x : counter.keySet()) {
      b.add(new Pair<>(x, counter.get(x)));
    }
    Collections.sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < b.size(); i++) {
      Pair<Integer, Integer> x = b.get(i);
      int pos = positions.get(x.getKey());
      if (pos != i) {
        Pair<Integer, Integer> tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(new Pair<>(i, positions.get(x.getKey())));
        positions.put(x.getKey(), positions.get(tmp.getKey()));
        positions.put(tmp.getKey(), pos);
      }
    }
    System.out.println(result.size());
    for (Pair<Integer, Integer> p : result) {
      System.out.println(p.getKey() + " " +
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Pair(x, counter.get(x)));
      positions.put(new Pair(x, counter.get(x)), i);
    }
    a.sort(Comparator.comparingInt(Pair::getFirst));
    List<Pair> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int pos = positions.get(a.get(i));
      if (pos != i) {
        Pair tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(new Pair(i, positions.get(a.get(i))));
        positions.put(a.get(i), positions.get(tmp));
        positions.put(tmp, positions.get(a.get(i)));
      }
    }
    System.out.println(result.size());
    for (Pair p : result) {
      System.out.println(p.getFirst() + " " + p.getSecond());
    }
  }
}

======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put(x, i);
    }
    a = sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }

  public static int[] sort(int[] a) {
    for (int i = 0; i < a.length - 1; i++) {
      for (int j = i + 1; j
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }
    a = b.stream().sorted().toArray(Integer[]::new);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Collections;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    ArrayList<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    ArrayList<Integer> b = new ArrayList<>();
    HashMap<Integer, Integer> counter = new HashMap<>();
    HashMap<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    Collections.sort(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(new Integer(i));
        result.add(new Integer(pos));
        positions.put(new Integer(x), pos);
        positions.put(new Integer(tmp), i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
      i++;
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(sc.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), new Integer(i));
    }
    a.sort(Comparator.comparing(Integer::intValue));
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(new Integer(i));
        result.add(new Integer(pos));
        positions.put(x, new Integer(pos));
        positions.put(tmp, new Integer(x));
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]

This is the Java code that implements the same logic as the Python code
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      b[i] = a[i];
      positions.put((a[i], counter.get(a[i])), i);
    }
    a = sort(b);
    List<int[]> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get(a[i]);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(new int[] {i, pos});
        positions.put((a[i], counter.get(a[i])), pos);
        positions.put((tmp, counter.get(tmp)), i);
      }
    }
    System.out.println(result.size());
    for (int[] pair : result) {
      System.out.println(pair[0] + " " + pair[1]);
    }
  }

  private static int[] sort(int[] arr) {
    int n = arr.length;
    for (int i = 1; i < n; i++) {
      int
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.Collections;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }

    ArrayList<Integer> b = new ArrayList<>();
    HashMap<Integer, Integer> counter = new HashMap<>();
    HashMap<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Pair<>(x, counter.get(x)));
      positions.put(new Pair<>(x, counter.get(x)), i);
    }

    Collections.sort(b);

    ArrayList<Pair<Integer, Integer>> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      Pair<Integer, Integer> x = b.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        Pair<Integer, Integer> tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(new Pair<>(i, positions.get(x)));
        positions.put(x, positions.get(tmp));
        positions.put(tmp, positions.get(x));
      }
    }

    System.out.println(result.size());
    for (Pair<Integer, Integer> p : result) {
      System.out.println(p.getFirst() + " " + p.getSecond());
    }
  }
}


======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = sc.nextInt();
        }
        int[] b = new int[n];
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < n; i++) {
            int x = a[i];
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            b[i] = (x, counter.get(x));
            positions.put((x, counter.get(x)), i);
        }
        a = sort(b);
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int pos = positions.get((a[i].getKey(), a[i].getValue()));
            if (pos != i) {
                int tmp = b[i];
                b[pos] = b[i];
                b[i] = tmp;
                result.add((i, positions.get((a[i].getKey(), a[i].getValue()))));
                positions.put((a[i].getKey(), a[i].getValue()), positions.get((tmp, counter.get(tmp))));
                positions.put((tmp, counter.get(tmp)), positions.get((a[i].getKey(), a[i].getValue())));
            }
        }
        System.out.println(result.size());
        for (int i = 0; i < result.size(); i++) {
            System.out.println(result.get(i).getKey
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    scanner.nextLine();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    scanner.close();

    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }

    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      b.add(new Pair(x, counter.get(x)));
    }

    a = b;
    b = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i).getFirst();
      int pos = positions.get(x);
      if (pos != i) {
        Pair tmp = a.get(i);
        a.set(pos, tmp);
        a.set(i, new Pair(x, counter.get(x)));
        b.add(new Pair(i, pos));
        positions.put(x, i);
        positions.put(tmp.getFirst(), pos);
      }
    }

    System.out.println(b.size());
    for (Pair p : b) {
      System.out.println(p.getFirst
======
  [JAVA]
import java.util.Scanner;

class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = counter.get(x);
      positions.put(x, i);
    }
    Arrays.sort(b);
    List<Pair<Integer, Integer>> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(new Pair<>(i, positions.get(x)));
        positions.put(x, positions.get(tmp));
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (Pair<Integer, Integer> p : result) {
      System.out.println(p.getKey() + " " + p.getValue());
    }
  }
}

class Pair<T, U> {
  private T key;
  private U value;

  public Pair(T key, U value) {
    this.key = key;
    this.value = value;
  }

  public T getKey() {
    return key;
  }

  public
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.Collections;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        int[] b = new int[n];
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < n; i++) {
            int x = a[i];
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            b[i] = (x, counter.get(x));
            positions.put((x, counter.get(x)), i);
        }
        Arrays.sort(b);
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = b[i];
            int pos = positions.get(x);
            if (pos != i) {
                int tmp = b[i];
                b[pos] = b[i];
                b[i] = tmp;
                result.add(i);
                positions.put(x, positions.get(tmp));
            }
        }
        System.out.println(result.size());
        for (int i : result) {
            System.out.println(i);
        }
    }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      b.add(new Integer[] { x, counter.get(x) });
    }
    a.clear();
    a.addAll(b);
    b.clear();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i)[0];
      int pos = positions.get(x);
      if (pos != i) {
        int[] tmp = a.get(i);
        a.set(pos, a.get(i));
        a.set(i, tmp);
        positions.put(x, i);
        positions.put(tmp[0], pos);
      }
    }
    int result = 0;
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i)[0];
      int pos = positions.get(x);
      if (pos != i) {
        result++;
     
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put(x, i);
    }
    Arrays.sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = counter.get(x);
      positions.put(x, i);
    }
    Arrays.sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      int x = result.get(i);
      int y = result.get(i + 1);
      System.out.println(x + " " + y);
    }
  }
}
[/JAVA]

This is the Java code that is functionally identical to the Python code. It uses the same data structures and algorithms to solve the problem. The only difference
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;
import java.util.Arrays;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        List<Integer> b = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = a[i];
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            b.add(new Integer(x));
            positions.put(new Integer(x), new Integer(i));
        }
        Arrays.sort(b.toArray());
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = b.get(i);
            int pos = positions.get(x);
            if (pos != i) {
                int tmp = b.get(i);
                b.set(pos, tmp);
                result.add(new Integer(i));
                positions.put(x, new Integer(pos));
            }
        }
        System.out.println(result.size());
        for (int i : result) {
            System.out.println(i);
        }
    }
}
[/JAVA]

This is the Java code equivalent to the Python code provided, with the same logic and functionality. The code uses the `java.util` package for various data structures and algorithms, such as `Scanner` for reading input, `ArrayList` for dynamic arrays, `HashMap` for hash maps, `Array
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put(x, i);
    }
    a = b;
    int[] result = new int[n];
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result[i] = pos;
        positions.put(x, pos);
      }
    }
    System.out.println(result.length);
    for (int i = 0; i < result.length; i++) {
      System.out.println(i + " " + result[i]);
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put((x, counter.get(x)), i);
    }
    a = b;
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add((i, positions.get(x)));
        positions.put(x, positions.get(tmp));
        positions.put(tmp, positions.get(x));
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]

This is a straightforward conversion of the Python code to Java. The only difference is that in Java, we need to explicitly create arrays and maps, and we need to use the `System.out.println()` method to print the output.
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      b.add(a[i]);
    }
    a = b.stream().sorted().toArray(Integer[]::new);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]

This is the Java code for the given Python code. It uses the same logic
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    scanner.close();

    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }

    a = b.stream().sorted().toArray(Integer[]::new);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(i);
        positions.put(x, pos);
      }
    }

    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i + " " + positions.get(a[i]));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;

public class Solution {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = sc.nextInt();
        }
        int[] b = new int[n];
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < n; i++) {
            int x = a[i];
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            b[i] = x;
            positions.put(x, i);
        }
        Arrays.sort(b);
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = b[i];
            int pos = positions.get(x);
            if (pos != i) {
                int tmp = b[i];
                b[pos] = b[i];
                b[i] = tmp;
                result.add(i);
                result.add(pos);
                positions.put(x, pos);
                positions.put(tmp, i);
            }
        }
        System.out.println(result.size());
        for (int i = 0; i < result.size(); i += 2) {
            System.out.println(result.get(i) + " " + result.get(i + 1));
        }
    }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    a = b.stream().sorted().mapToInt(Integer::intValue).toArray();
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(new Integer(i));
        positions.put(new Integer(x), pos);
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]

This is the Java code equivalent to the Python code you provided. I've used the `Scanner` class to read input from the user, and the `ArrayList` and `HashMap` classes to store the data. I've also used the `stream()` method to sort the `ArrayList` and the `mapToInt()` method
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put((x, counter.get(x)), i);
    }
    a = sort(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add((i, positions.get(x)));
        positions.put(x, positions.get(tmp));
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i));
    }
  }
  
  public static int[] sort(int[] a) {
    for (int i = 0; i < a.length; i++) {
      for (int j = i + 1; j < a.length; j++) {
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    ArrayList<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      b.add(x);
    }
    a = b.stream().sorted().mapToInt(Integer::intValue).toArray();
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(i);
        positions.put(x, pos);
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put((x, counter.get(x)), i);
    }
    a = sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add((i, positions.get(x)));
        positions.put(x, positions.get(tmp));
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }

  public static int[] sort(int[] a) {
    for (int i = 0; i < a.length; i++) {
      for (int j = i + 1; j < a.length; j++) {
        if (a[
======
  [JAVA]
import java.util.Scanner;
import java.util.Arrays;
import java.util.HashMap;
import java.util.ArrayList;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    HashMap<Integer, Integer> counter = new HashMap<>();
    HashMap<Integer, Integer> positions = new HashMap<>();
    ArrayList<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }
    a = b.stream().sorted().toArray(int[]::new);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        List<Integer> a = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            a.add(scanner.nextInt());
        }
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < n; i++) {
            int x = a.get(i);
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            positions.put(x, i);
        }
        List<Integer> b = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = a.get(i);
            b.add(new Pair(x, counter.get(x)));
        }
        b.sort((o1, o2) -> o1.compareTo(o2));
        List<Pair> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = b.get(i).getKey();
            int pos = positions.get(x);
            if (pos != i) {
                Pair tmp = b.get(i);
                b.set(pos, tmp);
                b.set(i, b.get(i));
                result.add(new Pair(i, positions.get(x)));
                positions.put(x, positions.get(tmp));
                positions.put(tmp, positions.get(x));
            }
        }
        System.out.println(result.size());
        for (Pair p : result) {
            System.out.println(p.getKey() +
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    scanner.nextLine();
    String[] a = scanner.nextLine().split(" ");
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.length; i++) {
      int x = Integer.parseInt(a[i]);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    a = b;
    b = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (positions.get(x) != i) {
        int tmp = b.get(i);
        b.set(positions.get(x), b.get(i));
        b.set(i, tmp);
        positions.put(x, positions.get(x) + 1);
      }
    }
    System.out.println(b.size());
    for (int i = 0; i < b.size(); i++) {
      System.out.println(b.get(i));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }
    a.clear();
    a.addAll(b);
    b.clear();
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = a.get(i);
        a.set(pos, tmp);
        a.set(i, x);
        result.add(i);
        result.add(pos);
        positions.put(x, i);
        positions.put(tmp, pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]

This is the Java code equivalent to the Python code you provided. It uses the same logic to
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }

    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }

    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      b.add(x);
    }

    a.sort(Comparator.comparing(x -> x));

    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }

    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
      i++;
   
======
  [JAVA]
import java.util.Scanner;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        int[] b = new int[n];
        int[] counter = new int[n];
        int[] positions = new int[n];
        for (int i = 0; i < n; i++) {
            if (counter[a[i]] == 0) {
                counter[a[i]] = 1;
            } else {
                counter[a[i]]++;
            }
            b[i] = a[i];
            positions[i] = i;
        }
        for (int i = 0; i < n; i++) {
            if (positions[i] != i) {
                int tmp = b[i];
                b[positions[i]] = b[i];
                b[i] = tmp;
            }
        }
        int[] result = new int[n];
        for (int i = 0; i < n; i++) {
            if (positions[i] != i) {
                result[i] = i;
            }
        }
        System.out.println(result.length);
        for (int i = 0; i < result.length; i++) {
            System.out.println(result[i]);
        }
    }
}
[/JAVA]

This is the Java code equivalent to the Python code you provided. It uses the `Scanner` class to read input from the user, and it uses arrays to store the values of `a`, `b`, `counter`, and `positions`. The `main` method is the driver class that contains the logic of the program. The `for` loops are used to iterate over the elements of the arrays and perform the necessary operations. The `if` statements are used to check the conditions and perform the necessary actions. The `System.
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put(b[i], i);
    }
    a = sort(b);
    ArrayList<Integer[]> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int[] x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int[] tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(new Integer[] { i, pos });
        positions.put(x, positions.get(tmp));
        positions.put(tmp, positions.get(x));
      }
    }
    System.out.println(result.size());
    for (Integer[] pair : result) {
      System.out.println(pair[0] + " " + pair[1]);
    }
  }

  private static int[] sort(int[][] arr) {
    // Sort the array using a comparator function
    // that compares the second element of each pair
    Arrays.sort(arr, (a, b) -> Integer
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        int[] b = new int[n];
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < n; i++) {
            if (!counter.containsKey(a[i])) {
                counter.put(a[i], 0);
            }
            counter.put(a[i], counter.get(a[i]) + 1);
            b[i] = a[i];
            positions.put(a[i], i);
        }
        for (int i = 0; i < n; i++) {
            int pos = positions.get(a[i]);
            if (pos != i) {
                int tmp = b[i];
                b[pos] = b[i];
                b[i] = tmp;
                positions.put(a[i], i);
                positions.put(tmp, pos);
            }
        }
        int count = 0;
        for (int i = 0; i < n; i++) {
            if (positions.get(a[i]) != i) {
                count++;
            }
        }
        System.out.println(count);
        for (int i = 0; i < n; i++) {
            if (positions.get(a[i]) != i) {
                System.out.println(i + " " + positions.get(a[i]));
            }
        }
    }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      b.add(x);
    }
    a = b.stream().sorted().toArray();
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i + " " + positions.get(i));
    }
  }
}
[/JAVA]

This is the Java code that corresponds to the Python code you provided. It uses the
======
  [JAVA]
import java.util.Scanner;
import java.util.HashMap;
import java.util.ArrayList;
import java.util.Collections;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    HashMap<Integer, Integer> counter = new HashMap<>();
    HashMap<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      positions.put((a[i], counter.get(a[i])), i);
    }
    ArrayList<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      b.add((a[i], counter.get(a[i])));
    }
    Collections.sort(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get((a[i], counter.get(a[i])));
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add((i, positions.get((a[i], counter.get(a[i])))));
        positions.put((a[i], counter.get(a[i])), positions.get(tmp));
        positions.put(tmp, positions.get((a[i], counter.get(a[i]))));
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put(x, i);
    }
    Arrays.sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.Map;
import java.util.HashMap;
import java.util.Arrays;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    Arrays.sort(a);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = a[i];
        a[pos] = a[i];
        a[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;

public class Solution {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = sc.nextInt();
        }
        int[] b = new int[n];
        int[] counter = new int[n];
        int[] positions = new int[n];
        for (int i = 0; i < n; i++) {
            if (counter[a[i]] == 0) {
                counter[a[i]] = 1;
            }
            b[i] = (a[i], counter[a[i]]);
            positions[b[i]] = i;
        }
        a = sort(b);
        int[] result = new int[n];
        for (int i = 0; i < n; i++) {
            int pos = positions[a[i]];
            if (pos != i) {
                int tmp = b[i];
                b[pos] = b[i];
                b[i] = tmp;
                result[i] = (i, positions[a[i]]);
                positions[a[i]] = positions[tmp];
                positions[tmp] = positions[a[i]];
            }
        }
        System.out.println(result.length);
        for (int i = 0; i < result.length; i++) {
            System.out.println(result[i][0] + " " + result[i][1]);
        }
    }
    
    public static int[] sort(int[] arr) {
        int[] result = new int[arr.length];
        for (int i = 0; i < arr.length; i++) {
            result[i] = arr[i];
        }
        return result;
    }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;
import java.util.Arrays;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put((x, counter.get(x)), i);
    }
    Arrays.sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b[i];
      int pos = positions.get((x, counter.get(x)));
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put((x, counter.get(x)), pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        List<Integer> a = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            a.add(scanner.nextInt());
        }
        List<Integer> b = new ArrayList<>();
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < a.size(); i++) {
            int x = a.get(i);
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            b.add(x);
            positions.put(x, i);
        }
        a = b;
        b = new ArrayList<>();
        for (int i = 0; i < a.size(); i++) {
            int x = a.get(i);
            int pos = positions.get(x);
            if (pos != i) {
                int tmp = a.get(i);
                a.set(pos, tmp);
                a.set(i, x);
                b.add(i);
                b.add(pos);
            }
        }
        System.out.println(b.size());
        for (int i = 0; i < b.size(); i += 2) {
            System.out.println(b.get(i) + " " + b.get(i + 1));
        }
    }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(sc.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    a.clear();
    a.addAll(b);
    b.clear();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (positions.get(x) != i) {
        int pos = positions.get(x);
        Integer tmp = a.get(i);
        a.set(pos, tmp);
        a.set(i, x);
        positions.put(x, i);
        positions.put(tmp, pos);
      }
    }
    int result = 0;
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (positions.get(x) != i) {
        result++;
      }
    }
    System.out.println(result);
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (positions.
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }

    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }

    a = b.stream().sorted().toArray(Integer[]::new);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(i);
        positions.put(x, pos);
      }
    }

    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      b.add(x);
    }
    a = b.stream().sorted().toArray();
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      int x = result.get(i);
      int y = result.get(i + 1);
      System.out.println(x + " " + y);
    }
  }
}
[/JAVA]

This is the Java code equivalent to the Python code.
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      b[i] = (a[i], counter.get(a[i]));
      positions.put(b[i], i);
    }
    a = b;
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get(a[i]);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add((i, positions.get(a[i])));
        positions.put(a[i], positions.get(tmp));
        positions.put(tmp, positions.get(a[i]));
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    a.sort((x, y) -> x.compareTo(y));
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = a.get(i);
        a.set(pos, tmp);
        a.set(i, x);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.HashMap;
import java.util.Collections;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        List<Integer> b = new ArrayList<>();
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < n; i++) {
            if (!counter.containsKey(a[i])) {
                counter.put(a[i], 0);
            }
            counter.put(a[i], counter.get(a[i]) + 1);
            b.add(new Integer(a[i]));
            positions.put(new Integer(a[i]), i);
        }
        Collections.sort(b);
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int pos = positions.get(b.get(i));
            if (pos != i) {
                Integer tmp = b.get(i);
                b.set(pos, b.get(i));
                b.set(i, tmp);
                result.add(new Integer(i));
                positions.put(b.get(i), positions.get(tmp));
            }
        }
        System.out.println(result.size());
        for (int i : result) {
            System.out.println(i);
        }
    }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.Collections;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      b[i] = a[i];
      positions.put(a[i], i);
    }
    Arrays.sort(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get(b[i]);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(b[i], i);
        positions.put(tmp, pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      b.add(new Integer(x));
    }
    a = new ArrayList<>(b);
    Collections.sort(a);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(new Integer(i));
        result.add(new Integer(pos));
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      int x = result.get(i);
      int y = result
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = a[i];
        a[pos] = a[i];
        a[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        int[] b = new int[n];
        int[] counter = new int[n];
        int[] positions = new int[n];
        for (int i = 0; i < n; i++) {
            if (counter[a[i]] == 0) {
                counter[a[i]] = 1;
            } else {
                counter[a[i]]++;
            }
            b[i] = (a[i], counter[a[i]]);
            positions[b[i]] = i;
        }
        a = b;
        int[][] result = new int[n][2];
        for (int i = 0; i < n; i++) {
            if (positions[a[i]] != i) {
                int tmp = b[i];
                b[positions[a[i]]] = b[i];
                b[i] = tmp;
                result[i] = (i, positions[a[i]]);
                positions[a[i]] = positions[tmp];
            }
        }
        System.out.println(result.length);
        for (int[] pair : result) {
            System.out.println(pair[0] + " " + pair[1]);
        }
    }
}
[/JAVA]

This is the equivalent Java code for the given Python code. The `Scanner` class is used to read input from the user, and the `int[]` and `int[][]` arrays are used to store the input and the results, respectively. The `if` statements are used to check if a number has already been encountered, and the `for` loops are used to iterate over the arrays and perform the necessary operations. The `System.out.println()` method is used to print
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      b.add(new Integer(x));
    }
    a.clear();
    a.addAll(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(new Integer(i));
        result.add(new Integer(pos));
        positions.put(x, pos);
        positions.put(tmp, x);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i +
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put((x, counter.get(x)), i);
    }
    a = b;
    Arrays.sort(a);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get((x, counter.get(x)));
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add((i, positions.get((x, counter.get(x)))));
        positions.put((x, counter.get(x)), positions.get((tmp, counter.get(tmp))));
        positions.put((tmp, counter.get(tmp)), positions.get((x, counter.get(x))));
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.*;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        int[] b = new int[n];
        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        for (int i = 0; i < n; i++) {
            int x = a[i];
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            b[i] = x;
            positions.put(x, i);
        }
        Arrays.sort(b);
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = b[i];
            int pos = positions.get(x);
            if (pos != i) {
                int tmp = b[i];
                b[pos] = b[i];
                b[i] = tmp;
                result.add(i);
                result.add(pos);
                positions.put(x, pos);
                positions.put(tmp, x);
            }
        }
        System.out.println(result.size());
        for (int i = 0; i < result.size(); i += 2) {
            System.out.println(result.get(i) + " " + result.get(i + 1));
        }
    }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.Collections;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    ArrayList<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(sc.nextInt());
    }
    ArrayList<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    Collections.sort(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < b.size(); i++) {
      int x = b.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        Integer tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(new Integer(i));
        positions.put(x, pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      b.add(x);
    }
    a.clear();
    for (int i = 0; i < b.size(); i++) {
      a.add(b.get(i));
    }
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(i);
        result.add(pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      b[i] = a[i] * counter.get(a[i]);
      positions.put(b[i], i);
    }
    Arrays.sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get(b[i]);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(b[i], i);
        positions.put(tmp, pos);
      }
    }
    System.out.println(result.size() / 2);
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    scanner.nextLine();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      b.add(x);
    }
    a = b;
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
 
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      b[i] = a[i];
      positions.put(a[i], i);
    }
    for (int i = 0; i < n; i++) {
      if (positions.get(a[i]) != i) {
        int tmp = b[i];
        b[positions.get(a[i])] = b[i];
        b[i] = tmp;
        positions.put(a[i], i);
      }
    }
    int result = 0;
    for (int i = 0; i < n; i++) {
      if (positions.get(a[i]) != i) {
        result++;
      }
    }
    System.out.println(result);
    for (int i = 0; i < result; i++) {
      System.out.println(i + " " + positions.get(a[i]));
    }
  }
}
[/JAVA]

This is the Java code equivalent to the Python code you provided. It uses the same data structures and algorithms to solve the problem. The only difference is that in Java, we need to import the necessary libraries and create a driver class called `Solution`
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map.Entry;
import java.util.Collections;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    HashMap<Integer, Integer> counter = new HashMap<>();
    HashMap<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      positions.put(a[i], i);
    }
    ArrayList<Entry<Integer, Integer>> b = new ArrayList<>();
    for (Entry<Integer, Integer> entry : counter.entrySet()) {
      b.add(new Entry<>(entry.getKey(), entry.getValue()));
    }
    Collections.sort(b, (o1, o2) -> o1.getValue() - o2.getValue());
    ArrayList<Entry<Integer, Integer>> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      if (positions.get(b.get(i).getKey()) != i) {
        Entry<Integer, Integer> tmp = b.get(i);
        b.set(positions.get(b.get(i).getKey()), tmp);
        result.add(new Entry<>(i, positions.get(b.get(i).getKey())));
        positions.put(b.get(i).getKey(), i);
      }
    }
    System.out.println(result.size());
    for (Entry<Integer, Integer> entry : result) {
      System.out.println(entry.getKey() + " " + entry
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put(b[i], i);
    }
    a = sorted(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get(a[i]);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(a[i], pos);
        positions.put(b[pos], i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}

[/JAVA]

This is the equivalent Java code to the given Python code. It uses the `Scanner` class to read input from the user, and the `ArrayList` class to store the result
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    a.sort(new Comparator<Integer>() {
      @Override
      public int compare(Integer o1, Integer o2) {
        return o1.compareTo(o2);
      }
    });
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(new Integer(i));
        positions.put(x, pos);
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]

This is the Java code equivalent to the Python code. The code uses the `Scanner` class to read input from the user, and the `ArrayList` class to
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;
import java.util.Collections;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put(x, i);
    }
    Arrays.sort(b);
    List<Integer[]> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(new Integer[] {i, pos});
        positions.put(x, positions.get(tmp));
        positions.put(tmp, positions.get(x));
      }
    }
    System.out.println(result.size());
    for (Integer[] pair : result) {
      System.out.println(pair[0] + " " + pair[1]);
    }
  }
}
[/JAVA]

This is a straightforward implementation of the Python code in Java. The only difference is that in Java, we use the `HashMap` class to implement the `counter` and `positions` dictionaries,
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(sc.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }
    a.clear();
    a.addAll(b);
    b.clear();
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = a.get(i);
        a.set(pos, tmp);
        a.set(i, x);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    scanner.nextLine();
    String[] input = scanner.nextLine().split(" ");
    List<Integer> a = new ArrayList<>();
    for (String s : input) {
      a.add(Integer.parseInt(s));
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    a.sort(Comparator.comparing(Integer::intValue));
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = a.get(i);
        a.set(pos, tmp);
        a.set(i, x);
        result.add(i);
        positions.put(x, i);
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]

This is a Java implementation of the Python code, with the same functionality. It uses the `Scanner` class to read input, and the `ArrayList` and `HashMap` classes to store the data. The `Comparator` class is used to sort the list of integers. The `System.out.println()` method is used
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.Map;
import java.util.HashMap;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    a = b.stream().sorted().mapToInt(Integer::intValue).toArray();
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(new Integer(i));
        result.add(new Integer(pos));
        positions.put(new Integer(x), pos);
        positions.put(new Integer(tmp), i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i) + " " + result.get(++i));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    scanner.close();

    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put(x, i);
    }

    a = b;
    Arrays.sort(a);

    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }

    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]

This is the Java code equivalent to the Python code you provided. It reads an integer `
======
  [JAVA]
import java.util.Scanner;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    int[] counter = new int[n];
    int[] positions = new int[n];
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (counter[x] == 0) {
        counter[x] = 1;
      } else {
        counter[x]++;
      }
      b[i] = (x, counter[x]);
      positions[i] = i;
    }
    a = b;
    int[] result = new int[n];
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions[x];
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result[i] = (i, positions[x]);
        positions[x] = positions[tmp];
      }
    }
    System.out.println(result.length);
    for (int i = 0; i < result.length; i++) {
      System.out.println(result[i]);
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.Map;
import java.util.HashMap;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Pair(x, counter.get(x)));
      positions.put(new Pair(x, counter.get(x)), i);
    }
    a = sort(b);
    List<Pair> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      Pair x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        Pair tmp = b.get(i);
        b.set(pos, tmp);
        result.add(new Pair(i, positions.get(x)));
        positions.put(x, positions.get(tmp));
      }
    }
    System.out.println(result.size());
    for (Pair pair : result) {
      System.out.println(pair.getFirst() + " " + pair.getSecond());
    }
  }

  private static List<Pair> sort(List<Pair> list) {
    // sort the list using a comparator
    list.sort(Comparator.comparing(Pair::getSecond));
    return list;
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = sc.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      b[i] = a[i];
      positions.put(a[i], i);
    }
    a = sort(b);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get(a[i]);
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put(a[i], pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }

  public static int[] sort(int[] a) {
    int n = a.length;
    for (int i = 0; i < n - 1; i++) {
      for (int j = i
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = x;
      positions.put((x, counter.get(x)), i);
    }
    a = sorted(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get((x, counter.get(x)));
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add(i);
        result.add(pos);
        positions.put((x, counter.get(x)), pos);
        positions.put((x, counter.get(tmp)), i);
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]

This is a Java implementation of the Python code you provided. It uses the `Scanner` class
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = scanner.nextInt();
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Integer(x));
      positions.put(new Integer(x), i);
    }
    a = b;
    Collections.sort(a);
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        Integer tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(new Integer(i));
        result.add(new Integer(pos));
        positions.put(x, positions.get(tmp));
        positions.put(tmp, positions.get(x));
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }

    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      if (!counter.containsKey(a[i])) {
        counter.put(a[i], 0);
      }
      counter.put(a[i], counter.get(a[i]) + 1);
      b.add(a[i]);
      positions.put(a[i], i);
    }

    b.sort(Comparator.comparingInt(a -> a));

    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get(b.get(i));
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, b.get(i));
        b.set(i, tmp);
        result.add(i);
        result.add(pos);
        positions.put(b.get(i), i);
        positions.put(tmp, pos);
      }
    }

    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    scanner.close();

    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }

    a = b.stream().sorted().toArray();

    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(i);
        result.add(pos);
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }

    System.out.println(result.size());
    for (int i = 0; i < result.size(); i += 2) {
      System.out.println(result.get(i) + " " + result.get(i + 1));
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      positions.put(x, i);
    }
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      b.add(x);
    }
    a.clear();
    for (int i = 0; i < n; i++) {
      int x = b.get(i);
      if (positions.get(x) != i) {
        int tmp = b.get(i);
        b.set(positions.get(x), tmp);
        b.set(i, x);
        positions.put(x, i);
        positions.put(tmp, positions.get(x));
      }
    }
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = b.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        result.add(i);
        result.add(pos);
      }
    }
    System.out.println(result.size());
    for (int i = 0;
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.Map;
import java.util.HashMap;
import java.util.List;

public class Solution {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {
            a[i] = scanner.nextInt();
        }
        scanner.close();

        Map<Integer, Integer> counter = new HashMap<>();
        Map<Integer, Integer> positions = new HashMap<>();
        List<Integer> b = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = a[i];
            if (!counter.containsKey(x)) {
                counter.put(x, 0);
            }
            counter.put(x, counter.get(x) + 1);
            b.add(new Integer(x));
            positions.put(new Integer(x), i);
        }

        a = b.stream().sorted().toArray(Integer[]::new);
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            int x = a[i];
            int pos = positions.get(x);
            if (pos != i) {
                Integer tmp = b.get(i);
                b.set(pos, tmp);
                result.add(new Integer(i));
                result.add(new Integer(pos));
                positions.put(x, positions.get(tmp));
                positions.put(tmp, positions.get(x));
            }
        }

        System.out.println(result.size());
        for (int i = 0; i < result.size(); i++) {
            System.out.println(result.get(i));
        }
    }
}
[/JAVA]

This is the equivalent Java code for the given Python code. The code uses the `Scanner` class
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(sc.nextInt());
    }
    List<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < a.size(); i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new Pair<>(x, counter.get(x)));
      positions.put(new Pair<>(x, counter.get(x)), i);
    }
    a.sort(Comparator.comparingInt(Pair::getFirst));
    List<Pair<Integer, Integer>> result = new ArrayList<>();
    for (int i = 0; i < a.size(); i++) {
      Pair<Integer, Integer> x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        Pair<Integer, Integer> tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(new Pair<>(i, pos));
        positions.put(x, pos);
        positions.put(tmp, i);
      }
    }
    System.out.println(result.size());
    for (Pair<Integer, Integer> p : result) {
      System.out.println(p.getFirst() + " " + p.getSecond());
    }
  }
}

class
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.List;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    List<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(scanner.nextInt());
    }
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    List<Integer> b = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(new int[] { x, counter.get(x) });
      positions.put(new int[] { x, counter.get(x) }, i);
    }
    a = b.stream().sorted((x, y) -> x[0] - y[0]).collect(Collectors.toList());
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int[] x = a.get(i);
      int pos = positions.get(new int[] { x[0], x[1] });
      if (pos != i) {
        int[] tmp = b.get(i);
        b.set(pos, tmp);
        b.set(i, x);
        result.add(new int[] { i, pos });
        positions.put(new int[] { x[0], x[1] }, i);
        positions.put(new int[] { tmp[0], tmp[1] }, pos);
      }
    }
    System.out.println(result.size());
    for (int[] i : result) {
      System.out.println
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    int n = sc.nextInt();
    ArrayList<Integer> a = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      a.add(sc.nextInt());
    }
    ArrayList<Integer> b = new ArrayList<>();
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b.add(x);
      positions.put(x, i);
    }
    a = b;
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int x = a.get(i);
      int pos = positions.get(x);
      if (pos != i) {
        int tmp = b.get(i);
        b.set(pos, tmp);
        result.add(i);
        positions.put(x, i);
      }
    }
    System.out.println(result.size());
    for (int i : result) {
      System.out.println(i);
    }
  }
}
[/JAVA]
======
  [JAVA]
import java.util.Scanner;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Solution {
  public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    int n = scanner.nextInt();
    int[] a = new int[n];
    for (int i = 0; i < n; i++) {
      a[i] = scanner.nextInt();
    }
    int[] b = new int[n];
    Map<Integer, Integer> counter = new HashMap<>();
    Map<Integer, Integer> positions = new HashMap<>();
    for (int i = 0; i < n; i++) {
      int x = a[i];
      if (!counter.containsKey(x)) {
        counter.put(x, 0);
      }
      counter.put(x, counter.get(x) + 1);
      b[i] = (x, counter.get(x));
      positions.put((x, counter.get(x)), i);
    }
    a = sort(b);
    ArrayList<Integer> result = new ArrayList<>();
    for (int i = 0; i < n; i++) {
      int pos = positions.get((x, counter.get(x)));
      if (pos != i) {
        int tmp = b[i];
        b[pos] = b[i];
        b[i] = tmp;
        result.add((i, positions.get((x, counter.get(x)))));
        positions.put((x, counter.get(x)), positions.get((x, counter.get(x))));
      }
    }
    System.out.println(result.size());
    for (int i = 0; i < result.size(); i++) {
      System.out.println(result.get(i).get(0) + " " + result.get(i).get(1));
    }
  }
  
  public static int[] sort(int[] a) {
    for (int i = 0; i < a.length
======
